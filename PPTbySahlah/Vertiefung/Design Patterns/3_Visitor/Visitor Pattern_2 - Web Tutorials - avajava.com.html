<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
	Design by Free CSS Templates
	http://www.freecsstemplates.org
	Released for free under a Creative Commons Attribution 2.5 License
-->
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252">
<title>Visitor Pattern - Web Tutorials - avajava.com</title>
<meta name="keywords" content="Java, visitor pattern, design pattern, behavioral pattern">
<meta name="description" content="This Java tutorial describes the visitor pattern, a behavioral object pattern.">
<link href="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/default.css" rel="stylesheet" type="text/css">
<link href="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/codeformat.css" rel="stylesheet" type="text/css">
<link rel="shortcut icon" href="http://www.avajava.com/favicon.ico" type="image/vnd.microsoft.icon"> 
<link rel="icon" href="http://www.avajava.com/favicon.ico" type="image/vnd.microsoft.icon"> 
</head>
<body>
<div id="outer">
	<div id="header">
		<h1>
		<a href="http://www.avajava.com/tutorials">
		AVAJAVA Web Tutorials</a>
		</h1>
		
		<h2 id="firsth2">
			Total Categories: 24,
			Total Tutorials: 508</h2>
	
			<h2 id="secondh2">
				Design Patterns:
				20 of
				22 tutorials
				</h2>
				<h2 id="thirdh2">
				Visitor Pattern</h2>
			</div>
	<div id="menu">
		<ul>
<!-- 
		<li class="first">"Java forwards and backwards"</li>
 --> 
<!-- 		<li><a class="toptext" href="http://www.jarvana.com/" title="Search Maven Repository">Maven Repository Search</a></li>
		<li><a class="toptext" href="http://www.jarvana.com/jarvana/doc" title="Search for Javadocs Classes and Projects">Javadoc Search</a></li> -->			

		</ul>
		<div id="search">
		Search Tutorials:
		<form style="display: inline" action="/tutorials/search" method="get" name="searchForm">
		<input style="margin-bottom: 2px;" size="20" maxlength="50" name="q" type="text">
		<input id="searchbutton" value="  Go  " type="submit">
		</form>
		</div>
		<div class="clear"></div>
	</div>
	<div id="topbreadcrumb">
<div class="breadcrumbouter">
<div class="breadcrumbinner">
<a title="Go to Categories Index" href="http://www.avajava.com/tutorials/">Web Tutorials</a>
::
<a title="Go to previous category: 'Database'" href="http://www.avajava.com/tutorials/categories/database"><img alt="Go to previous category" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/previous.gif"></a>&nbsp;<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>&nbsp;<a title="Go to next category: 'Eclipse'" href="http://www.avajava.com/tutorials/categories/eclipse"><img alt="Go to next category" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/next.gif"></a>


::
Behavioral Design Patterns

::
<a title="Go to previous tutorial in 'Design Patterns' category: 'State Pattern'" href="http://www.avajava.com/tutorials/lessons/state-pattern.html"><img alt="Go to previous tutorial" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/previous.gif"></a>&nbsp;20.
Visitor Pattern&nbsp;<a title="Go to next tutorial in 'Design Patterns' category: 'Iterator Pattern'" href="http://www.avajava.com/tutorials/lessons/iterator-pattern.html"><img alt="Go to next tutorial" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/next.gif"></a>

</div>
</div>

</div>

<div id="content">
		<div id="primaryContentContainer">
			<div id="primaryContent">
<table width="100%">
	<tbody><tr>
		<td id="sidemenu">
		<div id="sidemenucats"><strong>Tutorial Categories:</strong> <ol><li><a href="http://www.avajava.com/tutorials/categories/ajax">Ajax</a> (1)</li><li><a href="http://www.avajava.com/tutorials/categories/ant">Ant</a> (16)</li><li><a href="http://www.avajava.com/tutorials/categories/apache-web-server">Apache Web Server</a> (8)</li><li><a href="http://www.avajava.com/tutorials/categories/bioinformatics">Bioinformatics</a> (10)</li><li><a href="http://www.avajava.com/tutorials/categories/cascading-style-sheets">Cascading Style Sheets</a> (47)</li><li><a href="http://www.avajava.com/tutorials/categories/classes-and-objects">Classes and Objects</a> (14)</li><li><a href="http://www.avajava.com/tutorials/categories/database">Database</a> (13)</li><li><a class="currentcategory" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a> (22)</li><li><a href="http://www.avajava.com/tutorials/categories/eclipse">Eclipse</a> (39)</li><li><a href="http://www.avajava.com/tutorials/categories/files">Files</a> (62)</li><li><a href="http://www.avajava.com/tutorials/categories/general-java">General Java</a> (69)</li><li><a href="http://www.avajava.com/tutorials/categories/jsps">JSPs</a> (9)</li><li><a href="http://www.avajava.com/tutorials/categories/java-basics">Java Basics</a> (11)</li><li><a href="http://www.avajava.com/tutorials/categories/linux">Linux</a> (23)</li><li><a href="http://www.avajava.com/tutorials/categories/logging">Logging</a> (5)</li><li><a href="http://www.avajava.com/tutorials/categories/maven">Maven</a> (88)</li><li><a href="http://www.avajava.com/tutorials/categories/search">Search</a> (12)</li><li><a href="http://www.avajava.com/tutorials/categories/servlets">Servlets</a> (20)</li><li><a href="http://www.avajava.com/tutorials/categories/struts">Struts</a> (1)</li><li><a href="http://www.avajava.com/tutorials/categories/text">Text</a> (19)</li><li><a href="http://www.avajava.com/tutorials/categories/tomcat">Tomcat</a> (8)</li><li><a href="http://www.avajava.com/tutorials/categories/version-control">Version Control</a> (8)</li><li><a href="http://www.avajava.com/tutorials/categories/windows">Windows</a> (2)</li><li><a href="http://www.avajava.com/tutorials/categories/xml">XML</a> (1)</li></ol><!-- Google Ads is off  -->
			<!-- Amazon Ads is off  -->
			</div>
		</td>

		<td id="mainside"><!-- Google Ads is off  -->
<hr>
<div class="accentuate">
<div class="title">Visitor Pattern</div>
<div>Author: Deron Eriksson</div>
<div class="smaller">Description: This Java tutorial describes the visitor pattern, a behavioral object pattern.</div>
<div class="smaller">
Tutorial created using:
Windows Vista || JDK 1.6.0_11 || Eclipse JEE Ganymede SR1 (Eclipse 3.4.1)</div>
</div>
<hr>
<br>

<div style="font-weight: bold">Page: <a href="http://www.avajava.com/tutorials/lessons/visitor-pattern.html?page=1" title="Go to page 1">&lt;</a> <a href="http://www.avajava.com/tutorials/lessons/visitor-pattern.html?page=1" title="Go to page 1">1</a> 2</div><br>
<p class="continue">(Continued from page 1) </p><p>Now, let's create a 
visitor called SumVisitor that implements the NumberVisitor interface. 
For TwoElement and ThreeElement objects, this visitor will sum up the 
int fields. For a List of NumElements (ie, TwoElement and ThreeElement 
objects), this visitor will iterate over the elements and call their 
accept() methods. As a result of this, the visitor will perform visit 
operations on all the TwoElement and ThreeElement objects that make up 
the list, since the call to accept() in turn calls the visitor's visit 
methods for the TwoElement and ThreeElement objects. </p>

<h3><a href="http://www.avajava.com/tutorials/design-patterns/visitor-pattern/SumVisitor.java">SumVisitor.java</a></h3>
<pre><span class="javaKeyword">package</span> com.cakes;

<span class="javaKeyword">import</span> java.util.List;

<span class="javaKeyword">public</span> <span class="javaKeyword">class</span> SumVisitor <span class="javaKeyword">implements</span> NumberVisitor {

	@Override
	<span class="javaKeyword">public</span> <span class="javaKeyword">void</span> visit(TwoElement twoElement) {
		<span class="javaKeyword">int</span> sum = twoElement.a + twoElement.b;
		System.out.println(twoElement.a + <span class="javaString">"+"</span> + twoElement.b + <span class="javaString">"="</span> + sum);
	}

	@Override
	<span class="javaKeyword">public</span> <span class="javaKeyword">void</span> visit(ThreeElement threeElement) {
		<span class="javaKeyword">int</span> sum = threeElement.a + threeElement.b + threeElement.c;
		System.out.println(threeElement.a + <span class="javaString">"+"</span> + threeElement.b + <span class="javaString">"+"</span> + threeElement.c + <span class="javaString">"="</span> + sum);
	}

	@Override
	<span class="javaKeyword">public</span> <span class="javaKeyword">void</span> visit(List&lt;NumberElement&gt; elementList) {
		<span class="javaKeyword">for</span> (NumberElement ne : elementList) {
			ne.accept(<span class="javaKeyword">this</span>);
		}
	}

}
</pre>
<p>Here is another visitor, TotalSumVisitor. In addition to summing up 
the int fields and displaying the sum, this visitor will keep track of 
the total sums of all the elements that are visited. </p>

<h3><a href="http://www.avajava.com/tutorials/design-patterns/visitor-pattern/TotalSumVisitor.java">TotalSumVisitor.java</a></h3>
<pre><span class="javaKeyword">package</span> com.cakes;

<span class="javaKeyword">import</span> java.util.List;

<span class="javaKeyword">public</span> <span class="javaKeyword">class</span> TotalSumVisitor <span class="javaKeyword">implements</span> NumberVisitor {

	<span class="javaKeyword">int</span> totalSum = 0;

	@Override
	<span class="javaKeyword">public</span> <span class="javaKeyword">void</span> visit(TwoElement twoElement) {
		<span class="javaKeyword">int</span> sum = twoElement.a + twoElement.b;
		System.out.println(<span class="javaString">"Adding "</span> + twoElement.a + <span class="javaString">"+"</span> + twoElement.b + <span class="javaString">"="</span> + sum + <span class="javaString">" to total"</span>);
		totalSum += sum;
	}

	@Override
	<span class="javaKeyword">public</span> <span class="javaKeyword">void</span> visit(ThreeElement threeElement) {
		<span class="javaKeyword">int</span> sum = threeElement.a + threeElement.b + threeElement.c;
		System.out.println(<span class="javaString">"Adding "</span> + threeElement.a + <span class="javaString">"+"</span> + threeElement.b + <span class="javaString">"+"</span> + threeElement.c + <span class="javaString">"="</span> + sum + <span class="javaString">" to total"</span>);
		totalSum += sum;
	}

	@Override
	<span class="javaKeyword">public</span> <span class="javaKeyword">void</span> visit(List&lt;NumberElement&gt; elementList) {
		<span class="javaKeyword">for</span> (NumberElement ne : elementList) {
			ne.accept(<span class="javaKeyword">this</span>);
		}
	}

	<span class="javaKeyword">public</span> <span class="javaKeyword">int</span> getTotalSum() {
		<span class="javaKeyword">return</span> totalSum;
	}

}
</pre>
<p>Let's see the visitor pattern in action. The Demo class creates two 
TwoElement objects and one ThreeElement object. It creates a list of 
NumberElements and adds the TwoElement object and the ThreeElement 
object to the list. Next, we create a SumVisitor and we visit the list 
with the SumVisitor. After this, we create a TotalSumVisitor and visit 
the list with the TotalSumVisitor. We display the total sum via the call
 to TotalSumVisitor's getTotalSum() method. </p>

<h3><a href="http://www.avajava.com/tutorials/design-patterns/visitor-pattern/Demo.java">Demo.java</a></h3>
<pre><span class="javaKeyword">package</span> com.cakes;

<span class="javaKeyword">import</span> java.util.ArrayList;
<span class="javaKeyword">import</span> java.util.List;

<span class="javaKeyword">public</span> <span class="javaKeyword">class</span> Demo {

	<span class="javaKeyword">public</span> <span class="javaKeyword">static</span> <span class="javaKeyword">void</span> main(String[] args) {

		TwoElement two1 = <span class="javaKeyword">new</span> TwoElement(3, 3);
		TwoElement two2 = <span class="javaKeyword">new</span> TwoElement(2, 7);
		ThreeElement three1 = <span class="javaKeyword">new</span> ThreeElement(3, 4, 5);

		List&lt;NumberElement&gt; numberElements = <span class="javaKeyword">new</span> ArrayList&lt;NumberElement&gt;();
		numberElements.add(two1);
		numberElements.add(two2);
		numberElements.add(three1);

		System.out.println(<span class="javaString">"Visiting element list with SumVisitor"</span>);
		NumberVisitor sumVisitor = <span class="javaKeyword">new</span> SumVisitor();
		sumVisitor.visit(numberElements);

		System.out.println(<span class="javaString">"\nVisiting element list with TotalSumVisitor"</span>);
		TotalSumVisitor totalSumVisitor = <span class="javaKeyword">new</span> TotalSumVisitor();
		totalSumVisitor.visit(numberElements);
		System.out.println(<span class="javaString">"Total sum:"</span> + totalSumVisitor.getTotalSum());

	}

}
</pre>
<p>The console output of executing Demo is shown here. </p>

<h3><a href="http://www.avajava.com/tutorials/design-patterns/visitor-pattern/console.txt">Console Output</a></h3>
<pre>Visiting element list with SumVisitor
3+3=6
2+7=9
3+4+5=12

Visiting element list with TotalSumVisitor
Adding 3+3=6 to total
Adding 2+7=9 to total
Adding 3+4+5=12 to total
Total sum:27
</pre>

<p>Notice that if we'd like to perform new operations on the grouping of
 elements, all we would need to do is write a new visitor class. We 
would not have to make any additions to the existing element classes, 
since they provide the data but none of the code for the operations. </p>


<div style="font-weight: bold">Page: <a href="http://www.avajava.com/tutorials/lessons/visitor-pattern.html?page=1" title="Go to page 1">&lt;</a> <a href="http://www.avajava.com/tutorials/lessons/visitor-pattern.html?page=1" title="Go to page 1">1</a> 2</div><br>
<hr>

<!-- start related tutorials -->
<div>
<h3>Related Tutorials:</h3>
<ul style="margin-left: 1em;">
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/template-method-pattern.html" title="This Java tutorial describes the template method pattern, a behavioral class pattern.">Template Method Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/mediator-pattern.html" title="This Java tutorial describes the mediator pattern, a behavioral object pattern.">Mediator Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/chain-of-responsibility-pattern.html" title="This Java tutorial describes the chain of responsibility pattern, a behavioral object pattern.">Chain of Responsibility Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/observer-pattern.html" title="This Java tutorial describes the observer pattern, a behavioral object pattern.">Observer Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/strategy-pattern.html" title="This Java tutorial describes the strategy pattern, a behavioral object pattern.">Strategy Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/command-pattern.html" title="This Java tutorial describes the command pattern, a behavioral object pattern.">Command Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/state-pattern.html" title="This Java tutorial describes the state pattern, a behavioral object pattern.">State Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/iterator-pattern.html" title="This Java tutorial describes the iterator pattern, a behavioral object pattern.">Iterator Pattern</a>
</li>
<li>
<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>


::
Behavioral Design Patterns

::
<a href="http://www.avajava.com/tutorials/lessons/memento-pattern.html" title="This Java tutorial describes the memento pattern, a behavioral object pattern.">Memento Pattern</a>
</li>
</ul>
</div>
<!-- end related tutorials -->

<!-- Amazon Ads is off  -->
	<!-- Google Ads is off  -->
</td></tr></tbody></table>
</div>
		</div>

		<div class="clear">&nbsp;</div>		
	</div>
	<div id="bottombreadcrumb">
<div class="breadcrumbouter">
<div class="breadcrumbinner">
<a title="Go to Categories Index" href="http://www.avajava.com/tutorials/">Web Tutorials</a>
::
<a title="Go to previous category: 'Database'" href="http://www.avajava.com/tutorials/categories/database"><img alt="Go to previous category" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/previous.gif"></a>&nbsp;<a title="Go to 'Design Patterns' category" href="http://www.avajava.com/tutorials/categories/design-patterns">Design Patterns</a>&nbsp;<a title="Go to next category: 'Eclipse'" href="http://www.avajava.com/tutorials/categories/eclipse"><img alt="Go to next category" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/next.gif"></a>


::
Behavioral Design Patterns

::
<a title="Go to previous tutorial in 'Design Patterns' category: 'State Pattern'" href="http://www.avajava.com/tutorials/lessons/state-pattern.html"><img alt="Go to previous tutorial" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/previous.gif"></a>&nbsp;20.
Visitor Pattern&nbsp;<a title="Go to next tutorial in 'Design Patterns' category: 'Iterator Pattern'" href="http://www.avajava.com/tutorials/lessons/iterator-pattern.html"><img alt="Go to next tutorial" style="display: inline; border: 0px;" src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/next.gif"></a>

</div>
</div>

</div>

<div id="footer">
<p>Copyright © 2014 
Code Strategies 
		| Template: <a href="http://www.freecsstemplates.org/">Free CSS Templates</a>
		| <a href="http://www.avajava.com/contact.jsp">Contact</a>
<!-- 		| <a href="http://www.avajava.com/about.jsp" title="About">About</a> -->
		</p>
	</div>
</div>


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Visitor%20Pattern_2%20-%20Web%20Tutorials%20-%20avajava.com_files/ga.js" type="text/javascript"></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-4759485-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>



</body></html>